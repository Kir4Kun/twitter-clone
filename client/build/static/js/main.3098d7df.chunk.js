(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){e.exports=n.p+"static/media/portret-placeholder.9cd963f3.png"},62:function(e,t,n){e.exports=n(97)},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(21),l=n.n(o),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=n(4),u=n(23),d=n(1),p={colors:{primaryBlue:"#1da1f2",blue:"#29a3ef",darkerBlue:"#006dbf",green:"#3e8e41",red:"#E23D68",gray:"#67757E",darkGray:"#7B878F"}},m=function(e){return a.a.createElement(d.a,Object.assign({theme:p},e))},f=n(9);function h(){var e=Object(f.a)(["\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  ul,\n  ol {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  body {\n    margin: 0;\n    font-size: 14px;\n    padding: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n      s Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n"]);return h=function(){return e},e}var g=Object(d.b)(h()),y=768,w=992,b=1200,E={tiny:"@media (max-width: ".concat(y,"px)"),phone:"@media (min-width: ".concat(y,"px)"),tablet:"@media (min-width: ".concat(w,"px)"),desktop:"@media (min-width: ".concat(b,"px)")},v=d.d.div.withConfig({displayName:"layout__Wrapper",componentId:"sc-41g5zq-0"})(["height:100%;display:flex;flex-direction:column;"]),x=d.d.div.withConfig({displayName:"layout__Container",componentId:"sc-41g5zq-1"})(["width:100%;max-width:1300px;margin:0 auto;padding:10px 15px;"]),_=d.d.div.withConfig({displayName:"layout__Content",componentId:"sc-41g5zq-2"})(["flex:1 0 auto;"]),O=n(3),j=n(10),C="FOLLOW",k="GET_ERRORS",I=function(){return{type:"CLOSE_CREATE_TWEET_MODAL"}},N=n(2),T=n.n(N),S=n(6),P=n(5),A=n.n(P),L=function(e){e?A.a.defaults.headers.common["x-auth-token"]=e:delete A.a.defaults.headers.common["x-auth-token"]},U=n(50),M=n.n(U),R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;return function(r){var a=M.a.v4();r({type:"SET_ALERT",payload:{msg:e,alertType:t,id:a}}),setTimeout(function(){return r({type:"REMOVE_ALERT",payload:a})},n)}},D=function(){return function(){var e=Object(S.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("token")&&L(localStorage.getItem("token")),e.prev=1,e.next=4,A.a.get("/api/users/current");case 4:n=e.sent,t({type:"USER_LOADED",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},F=function(){return function(e){e(R("Log out successfully","success",1500)),e({type:"LOGOUT"})}};function G(){var e=Object(f.a)(["\n      width: 300px;\n      height: 300px;\n    "]);return G=function(){return e},e}function B(){var e=Object(f.a)(["\n      width: 50px;\n      height: 50px;\n    "]);return B=function(){return e},e}function z(){var e=Object(f.a)(["\n      width: 70px;\n      height: 70px;\n    "]);return z=function(){return e},e}function W(){var e=Object(f.a)(["\n      border-radius: 100px;\n      font-size: 14px;\n      line-height: 20px;\n      padding: 6px 16px;\n      text-align: center;\n      color: #fff;\n      background-color: ",";\n    "]);return W=function(){return e},e}var q=d.d.h1.withConfig({displayName:"components__PrimaryHeading",componentId:"jhoq2c-0"})(["text-align:center;margin:1rem;"]),H=d.d.h2.withConfig({displayName:"components__SecondaryHeading",componentId:"jhoq2c-1"})([""]),Y=d.d.p.withConfig({displayName:"components__InfoText",componentId:"jhoq2c-2"})(["text-align:center;padding:10px 15px;font-size:1.15em;color:",";"],function(e){return e.theme.colors.darkGray}),V=d.d.input.withConfig({displayName:"components__Input",componentId:"jhoq2c-3"})(["font-size:1em;outline:none;display:block;width:100%;margin:10px 0;padding:10px 5px;border:1px solid ",";border-radius:3px;:focus{border-color:#cadae4;}"],function(e){return e.error?e.theme.colors.red:"#e6ecf0"}),J=d.d.button.withConfig({displayName:"components__Button",componentId:"jhoq2c-4"})(["font-size:1rem;padding:0.7em 1em;margin:5px;outline:0;border-radius:3px;cursor:pointer;",""],function(e){return e.primary&&Object(d.c)(W(),function(e){return e.theme.colors.primaryBlue})}),K=d.d.button.withConfig({displayName:"components__SignoutButton",componentId:"jhoq2c-5"})(["color:black;font-weight:normal;width:100%;display:block;border-radius:0px;padding:12px;"]),Q=Object(d.d)(J).withConfig({displayName:"components__EditProfileButton",componentId:"jhoq2c-6"})(["border:1px solid #67757f;color:#67757f;background-color:#fff;align-self:flex-end;"]),X=Object(d.d)(J).withConfig({displayName:"components__BackButton",componentId:"jhoq2c-7"})(["border:2px solid black;border-radius:5px;color:black;background-color:#fff;"]),$=Object(d.d)(Q).withConfig({displayName:"components__FollowProfileButton",componentId:"jhoq2c-8"})(["background-color:#f34c79;color:#fff;border:none;&:hover{background-color:#e23d69;}"]),Z=Object(d.d)(s.c).withConfig({displayName:"components__StyledNavLink",componentId:"jhoq2c-9"})(["padding:15px;border-bottom:2px solid transparent;font-weight:bold;&:hover{border-color:#29a3ef;color:#29a3ef;}"]),ee=Object(d.d)(Z).withConfig({displayName:"components__DropdownLink",componentId:"jhoq2c-10"})(["color:black;font-weight:normal;width:100%;display:block;border-radius:0px;"]),te=d.d.div.withConfig({displayName:"components__FeedbackMessage",componentId:"jhoq2c-11"})(["color:",";padding:5px;font-size:0.8rem;"],function(e){return e.success?e.theme.colors.green:e.theme.colors.red}),ne=d.d.img.withConfig({displayName:"components__UserAvatar",componentId:"jhoq2c-12"})(["width:150px;height:150px;border-radius:50%;flex-shrink:0;margin:0.7rem;"," "," ",""],function(e){return e.small&&Object(d.c)(z())},function(e){return e.tiny&&Object(d.c)(B())},function(e){return e.big&&Object(d.c)(G())}),re=d.d.img.withConfig({displayName:"components__ProfileBackground",componentId:"jhoq2c-13"})(["object-fit:cover;width:100%;max-width:100%;height:100%;"]),ae=d.d.a.withConfig({displayName:"components__CloseButton",componentId:"jhoq2c-14"})(["cursor:pointer;position:absolute;right:32px;top:32px;width:32px;height:32px;opacity:0.3;&:hover{opacity:1;}&:before,&:after{position:absolute;left:15px;content:' ';height:33px;width:2px;background-color:#fff;}&:before{transform:rotate(45deg);}&:after{transform:rotate(-45deg);}"]);var oe=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)(function(){n.current=e},[e]),Object(r.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}})},le="Loading",ie={textAlign:"center",margin:"15px 10px"};var ce=function(){var e=Object(r.useState)(le),t=Object(j.a)(e,2),n=t[0],o=t[1];return oe(function(){o(n===le+"..."?le:n+".")},1e3),a.a.createElement("div",{style:ie},n)},se=d.d.div.withConfig({displayName:"style__Wrapper",componentId:"ei09po-0"})(["position:absolute;background-color:#f9f9f9;min-width:160px;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);z-index:1;right:5%;border-radius:4px;"]),ue=d.d.ul.withConfig({displayName:"style__Menu",componentId:"ei09po-1"})(["display:flex;flex-direction:column;justify-content:center;"]),de=d.d.li.withConfig({displayName:"style__MenuItem",componentId:"ei09po-2"})(["width:100%;"]),pe=d.d.span.withConfig({displayName:"style__MenuName",componentId:"ei09po-3"})(["color:#000;font-size:1.2rem;font-weight:bold;"]),me=d.d.span.withConfig({displayName:"style__MenuUsername",componentId:"ei09po-4"})(["color:gray;"]),fe=d.d.div.withConfig({displayName:"style__UserInfo",componentId:"ei09po-5"})(["padding:7px 12px;border-bottom:1px solid lightgray;"]);var he=function(e){var t=e.user,n=e.onLogout;if(null===t)return a.a.createElement(se,null,a.a.createElement(ce,null));var r=t.username?"/"+t.username.toString():"/";return a.a.createElement(se,null,a.a.createElement(ue,null,a.a.createElement(fe,null,a.a.createElement(de,null,a.a.createElement(pe,null,t.name||"Unknown")),a.a.createElement(de,null,"@",a.a.createElement(me,null,t.username||"Unknown"))),a.a.createElement(de,null,a.a.createElement(ee,{to:r},a.a.createElement("i",{className:"far fa-user"})," Profile")),a.a.createElement(de,null,a.a.createElement(ee,{to:"/settings"},a.a.createElement("i",{className:"fas fa-cog"})," Settings")),a.a.createElement(de,null,a.a.createElement(K,{onClick:n},a.a.createElement("i",{className:"fas fa-sign-out-alt"})," Sign Out"))))},ge=d.d.nav.withConfig({displayName:"style__MainNav",componentId:"sc-7mu8c6-0"})(["list-style:none;display:flex;flex-direction:row;justify-content:center;align-items:center;flex-wrap:wrap;"]),ye=d.d.li.withConfig({displayName:"style__NavItem",componentId:"sc-7mu8c6-1"})(["color:#67757f;margin-right:5px;"]),we=d.d.div.withConfig({displayName:"style__StyledDropdown",componentId:"sc-7mu8c6-2"})(["position:relative;display:inline-block;"]),be=d.d.i.withConfig({displayName:"style__NavAvatar",componentId:"sc-7mu8c6-3"})(["font-size:2rem;margin:10px;color:#67757f;cursor:pointer;"]),Ee=Object(d.d)(V).withConfig({displayName:"style__SearchInput",componentId:"sc-1xy3u2b-0"})(["padding:5px;border-radius:5px;"]);function ve(e){var t=e.handleSubmit,n=e.handleChange,r=e.text,o=e.inputRef;return a.a.createElement("form",{onSubmit:t},a.a.createElement(Ee,{ref:o,value:r,placeholder:"search user...",onChange:n}))}var xe=Object(u.g)(function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),o=n[0],l=n[1],i=Object(r.useRef)(null);return a.a.createElement(ve,{handleSubmit:function(t){t.preventDefault(),e.history.push("/".concat(o)),l(""),i.current.blur()},handleChange:function(e){var t=e.target.value;l(t)},text:o,inputRef:i})});function _e(e){var t=e.openCreateTweetModal,n=e.avatarRef,r=e.showMenu,o=e.user,l=e.logoutUser;return a.a.createElement(ge,null,a.a.createElement(ye,null,a.a.createElement(xe,null)),a.a.createElement(ye,null,a.a.createElement(Z,{to:"/"},a.a.createElement("i",{className:"fas fa-home"})," Home")),a.a.createElement(ye,null,a.a.createElement(J,{primary:!0,type:"text",onClick:t},"Tweet")),a.a.createElement(ye,null,a.a.createElement(we,null,a.a.createElement(be,{className:"fas fa-user-circle",ref:n}),r?a.a.createElement(he,{user:o,onLogout:l}):null)))}var Oe=Object(O.b)(function(e){return{user:e.auth.user}},{logoutUser:F,openCreateTweetModal:function(){return{type:"OPEN_CREATE_TWEET_MODAL"}}})(function(e){var t=e.user,n=e.logoutUser,o=e.openCreateTweetModal,l=Object(r.useState)(!1),i=Object(j.a)(l,2),c=i[0],s=i[1],u=Object(r.useRef)(null),d=function(e){if(e.target===u.current)return s(!c);c&&s(!1)};return Object(r.useEffect)(function(){return document.addEventListener("click",d),function(){return document.removeEventListener("click",d)}}),a.a.createElement(_e,{openCreateTweetModal:o,avatarRef:u,showMenu:c,user:t,logoutUser:n})});function je(){return a.a.createElement(ge,null,a.a.createElement(ye,null,a.a.createElement(xe,null)),a.a.createElement(ye,null,a.a.createElement(Z,{to:"/"},a.a.createElement("i",{className:"fas fa-home"})," Home")),a.a.createElement(ye,null,a.a.createElement(Z,{to:"/signin"},"Sign In")),a.a.createElement(ye,null,a.a.createElement(Z,{to:"/signup"},"Sign Up")))}var Ce=d.d.header.withConfig({displayName:"style__StyledHeader",componentId:"e45mvp-0"})(["background-color:#fff;-webkit-box-shadow:0px 2px 5px 0px rgba(0,0,0,0.2);-moz-box-shadow:0px 2px 5px 0px rgba(0,0,0,0.2);box-shadow:0px 2px 5px 0px rgba(0,0,0,0.2);"]),ke=d.d.div.withConfig({displayName:"style__Container",componentId:"e45mvp-1"})(["min-height:50px;margin:0 auto;height:100%;width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex-wrap:wrap;@media screen and (min-width:500px){width:90%;}"]),Ie=d.d.div.withConfig({displayName:"style__LeftFlex",componentId:"e45mvp-2"})(["display:flex;flex-direction:row;align-items:center;flex:1;"]),Ne=Object(d.d)(s.b).withConfig({displayName:"style__ProfilesLink",componentId:"e45mvp-3"})(["color:",";font-weight:bold;margin:0 10px;&:hover{color:",";}"],function(e){return e.theme.colors.gray},function(e){return e.theme.colors.darkGray}),Te=d.d.i.withConfig({displayName:"style__Logo",componentId:"e45mvp-4"})(["font-size:1.5rem;color:",";padding:7px 12px;display:block;"],function(e){return e.theme.colors.blue}),Se=Object(O.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.isAuthenticated;return a.a.createElement(Ce,null,a.a.createElement(ke,null,a.a.createElement(Ie,null,a.a.createElement(Te,{className:"fab fa-twitter"}),a.a.createElement(Ne,{to:"/profiles"},"All profiles")),t?a.a.createElement(Oe,null):a.a.createElement(je,null)))});var Pe=n(19),Ae=n(52),Le=n(53),Ue=n(18);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(n,!0).forEach(function(t){Object(Ue.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var De={token:localStorage.getItem("token"),isAuthenticated:!1,user:null,loading:!0},Fe=n(8);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(n,!0).forEach(function(t){Object(Ue.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ze={profile:null,profiles:null,loading:!1};function We(e,t,n){var r=e.profile,a=n.user._id,o=n._id;if(null!==r){if(r.user._id===a)return Be({},r,{tweets:[o].concat(Object(Fe.a)(r.tweets)),homepageTweets:[o].concat(Object(Fe.a)(r.homepageTweets))});if(r.following.includes(a))return Be({},r,{tweets:[o].concat(Object(Fe.a)(r.tweets))})}return r}function qe(e,t,n){var r=e.profile,a=n.authUserId,o=n.userId;return null!==e.profile&&(e.profile.user._id===o&&(r=Be({},r,{followers:t===C?[].concat(Object(Fe.a)(r.followers),[a]):r.followers.filter(function(e){return e!==a})})),e.profile.user._id===a&&(r=Be({},r,{following:t===C?[].concat(Object(Fe.a)(r.following),[o]):r.following.filter(function(e){return e!==o})}))),r}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach(function(t){Object(Ue.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ve={tweet:null,tweets:null,loading:!1};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(n,!0).forEach(function(t){Object(Ue.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Qe={comments:null,loading:!1},Xe=[];function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(n,!0).forEach(function(t){Object(Ue.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var et={showCreateTweetModal:!1},tt=[],nt=Object(Pe.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"USER_LOADED":return Re({},e,{isAuthenticated:!0,user:r,loading:!1});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",r.token),L(r.token),Re({},e,{},r,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"LOGIN_FAIL":case"AUTH_ERROR":case"LOGOUT":return localStorage.removeItem("token"),L(null),Re({},e,{token:null,isAuthenticated:!1,loading:!1,user:null});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"PROFILE_LOADING":return Be({},e,{loading:!0});case"GET_PROFILE":case"UPDATE_PROFILE":return Be({},e,{profile:r,loading:!1});case"GET_PROFILES":return Be({},e,{profiles:r,loading:!1});case"CLEAR_PROFILES":return Be({},e,{profiles:null});case"CLEAR_PROFILE":return Be({},e,{profile:null});case C:return Be({},e,{loading:!1,profiles:null!==e.profiles?e.profiles.map(function(e){return e.user._id===r.userId?Be({},e,{followers:[].concat(Object(Fe.a)(e.followers),[r.authUserId])}):e.user._id===r.authUserId?Be({},e,{following:[].concat(Object(Fe.a)(e.following),[r.userId])}):e}):null,profile:qe(e,n,r)});case"UNFOLLOW":return Be({},e,{loading:!1,profiles:null!==e.profiles?e.profiles.map(function(e){return e.user._id===r.userId?Be({},e,{followers:e.followers.filter(function(e){return e!==r.authUserId})}):e.user._id===r.authUserId?Be({},e,{following:e.following.filter(function(e){return e!==r.userId})}):e}):null,profile:qe(e,n,r)});case"CREATE_TWEET":return Be({},e,{profile:We(e,n,r.data)});case"REMOVE_TWEET":return Be({},e,{profile:null!==e.profile?Be({},e.profile,{tweets:e.profile.tweets.filter(function(e){return e!==r}),homepageTweets:e.profile.homepageTweets.filter(function(e){return e!==r}),likes:e.profile.likes.filter(function(e){return e!==r})}):null});case k:return Be({},e,{loading:!1});case"LIKE_TWEET":var a=e.profile&&e.profile.likes.includes(r.tweetId);return Be({},e,{profile:e.profile&&e.profile.user._id===r.authUserId?Be({},e.profile,{likes:a?e.profile.likes.filter(function(e){return e!==r.tweetId}):[].concat(Object(Fe.a)(e.profile.likes),[r.tweetId])}):e.profile});default:return e}},tweet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=e.tweet,o=e.tweets;switch(n){case"TWEET_LOADING":return Ye({},e,{loading:!0});case"GET_TWEET":return Ye({},e,{tweet:r,loading:!1});case"CLEAR_TWEET":return Ye({},e,{tweet:null});case"GET_TWEETS":return Ye({},e,{tweets:r,loading:!1});case"CLEAR_TWEETS":return Ye({},e,{tweets:null});case"CREATE_TWEET":return Ye({},e,{tweets:null!==e.tweets?r.addNewTweetToState?[r.data].concat(Object(Fe.a)(e.tweets)):Object(Fe.a)(e.tweets):null,loading:!1});case"LIKE_TWEET":var l=o&&o.findIndex(function(e){return e._id===r.tweetId});return Ye({},e,{tweets:o&&l>-1?[].concat(Object(Fe.a)(o.slice(0,l)),[Ye({},o[l],{likes:o[l].likes.includes(r.authUserId)?o[l].likes.filter(function(e){return e!==r.authUserId}):[].concat(Object(Fe.a)(o[l].likes),[r.authUserId])})],Object(Fe.a)(o.slice(l+1))):o,tweet:null!==a&&a._id===r.tweetId?Ye({},a,{likes:a.likes.includes(r.authUserId)?a.likes.filter(function(e){return e!==r.authUserId}):[].concat(Object(Fe.a)(a.likes),[r.authUserId])}):a});case"ADD_COMMENT":return Ye({},e,{tweet:null!==e.tweet?Ye({},e.tweet,{comments:[].concat(Object(Fe.a)(e.tweet.comments),[r._id])}):e.tweet});case"REMOVE_COMMENT":return Ye({},e,{tweet:null!==e.tweet?Ye({},e.tweet,{comments:e.tweet.comments.filter(function(e){return e!==r})}):e.tweet});case"REMOVE_TWEET":return Ye({},e,{tweets:null!==e.tweets?e.tweets.filter(function(e){return e._id!==r}):e.tweets,tweet:e.tweet&&e.tweet._id===r?null:e.tweet});case k:return Ye({},e,{loading:!1});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=e.comments;switch(n){case"COMMENT_LOADING":return Ke({},e,{loading:!0});case"ADD_COMMENT":return Ke({},e,{comments:null!==a?[].concat(Object(Fe.a)(a),[r]):e.comments,loading:!1});case"GET_COMMENTS":return Ke({},e,{comments:r,loading:!1});case"CLEAR_COMMENTS":return Ke({},e,{comments:null});case"REMOVE_COMMENT":return Ke({},e,{comments:null!==a?a.filter(function(e){return e._id!==r}):a});case"TOGGLE_COMMENT_LIKE":var o=e.comments&&e.comments.findIndex(function(e){return e._id===r.commentId});return Ke({},e,{comments:a&&o>-1?[].concat(Object(Fe.a)(a.slice(0,o)),[Ke({},a[o],{likes:a[o].likes.includes(r.authUserId)?a[o].likes.filter(function(e){return e!==r.authUserId}):[].concat(Object(Fe.a)(a[o].likes),[r.authUserId])})],Object(Fe.a)(a.slice(o+1))):a});case k:return Ke({},e,{loading:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case k:return r;case"CLEAR_ERRORS":return[];default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_CREATE_TWEET_MODAL":return Ze({},e,{showCreateTweetModal:!0});case"CLOSE_CREATE_TWEET_MODAL":return Ze({},e,{showCreateTweetModal:!1});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SET_ALERT":return[r].concat(Object(Fe.a)(e));case"REMOVE_ALERT":return e.filter(function(e){return e.id!==r});default:return e}}}),rt=[Le.a],at=Object(Pe.createStore)(nt,{},Object(Ae.composeWithDevTools)(Pe.applyMiddleware.apply(void 0,rt))),ot=function(){return function(e){at.getState().errors.length>0&&e({type:"CLEAR_ERRORS"})}},lt=n(26);function it(e){var t=e.type,n=e.name,r=e.value,o=e.onChange,l=e.placeholder,i=e.error,c=e.errorMsg,s=Object(lt.a)(e,["type","name","value","onChange","placeholder","error","errorMsg"]);return a.a.createElement("div",null,a.a.createElement(V,Object.assign({error:!!i,type:t,name:n,value:r,onChange:o,placeholder:l},s)),c?a.a.createElement(te,null,c):null)}it.defaultProps={type:"text",placeholder:"Type here."};var ct=d.d.div.withConfig({displayName:"style__SignInContainer",componentId:"sc-1vub0ew-0"})(["max-width:500px;margin:10px auto;"]),st=d.d.h1.withConfig({displayName:"style__Title",componentId:"sc-1vub0ew-1"})(["font-size:24px;"]),ut=d.d.form.withConfig({displayName:"style__Form",componentId:"sc-1vub0ew-2"})(["margin-top:15px;font-size:16px;"]),dt=d.d.p.withConfig({displayName:"style__Helper",componentId:"sc-1vub0ew-3"})(["font-size:14px;line-height:20px;"]);var pt=function(e){var t=e.username,n=e.password,r=e.onSubmit,o=e.errors,l=o[0]&&o[0].msg||null;return a.a.createElement(x,null,a.a.createElement(ct,null,a.a.createElement(st,null,"Sign in to Twitter"),a.a.createElement(ut,{onSubmit:r,"data-cy":"signin-form"},a.a.createElement(it,Object.assign({"data-cy":"signin-username-input",type:"text",name:"username"},t,{placeholder:"Email or username",autocomplete:"username",error:o.length>0,errorMsg:l})),a.a.createElement(it,Object.assign({"data-cy":"signin-password-input",type:"password",name:"password"},n,{placeholder:"Password",autocomplete:"current-password",error:o.length>0,errorMsg:l})),a.a.createElement(J,{type:"submit",primary:!0},"Log In")),a.a.createElement(dt,null,"New to Twitter?",a.a.createElement(s.b,{to:"/signup",className:"login-signup-link"},"Sign up now ",a.a.createElement("i",{className:"fas fa-angle-double-right"})))))},mt=function(e){return void 0===e||null===e||"string"===typeof e&&0===e.trim().length||"object"===typeof e&&0===Object.keys(e).length};var ft=function(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];e[a].trim()||("password2"===a?t.push({msg:"repeat password is required",param:"password2"}):t.push({msg:"".concat(a," is required"),param:a}))}return mt(t)?null:t};var ht=function(e){var t=Object(r.useState)(e),n=Object(j.a)(t,2),a=n[0],o=n[1];return{value:a,onChange:function(e){o(e.target.value)}}};var gt=Object(O.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r,a,o;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Content-Type":"application/json"}},a=JSON.stringify(e),t.prev=2,t.next=5,A.a.post("/api/users/login",a,r);case 5:o=t.sent,n({type:"LOGIN_SUCCESS",payload:o.data}),n(D()),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),n(R("There was a problem with the server","danger")),n({type:k,payload:t.t0.response.data.errors||[]}),n({type:"LOGIN_FAIL"});case 15:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}()},clearErrors:ot})(function(e){var t=ht(""),n=ht(""),o=Object(r.useState)([]),l=Object(j.a)(o,2),i=l[0],c=l[1],s=Object(r.useState)(!1),d=Object(j.a)(s,2),p=d[0],m=d[1],f=e.auth.isAuthenticated,h=e.errors,g=e.clearErrors;if(Object(r.useEffect)(function(){!f&&mt(h)||(m(f),mt(h)||c(h))},[f,h]),Object(r.useEffect)(function(){return function(){return g()}},[]),p){var y=(e.location.state||{from:{pathname:"/"}}).from;return a.a.createElement(u.a,{to:y})}return a.a.createElement(pt,{username:t,password:n,onSubmit:function(r){r.preventDefault();var a={username:t.value,password:n.value},o=ft(a);o?c(o):e.loginUser(a)},errors:i})}),yt=d.d.div.withConfig({displayName:"style__SignUpContainer",componentId:"sc-9rx5u4-0"})(["max-width:500px;margin:10px auto;"]),wt=d.d.h1.withConfig({displayName:"style__Title",componentId:"sc-9rx5u4-1"})(["font-size:24px;"]),bt=d.d.form.withConfig({displayName:"style__Form",componentId:"sc-9rx5u4-2"})(["margin-top:15px;font-size:16px;"]),Et=d.d.p.withConfig({displayName:"style__Helper",componentId:"sc-9rx5u4-3"})(["font-size:14px;line-height:20px;"]),vt=Object(d.d)(s.b).withConfig({displayName:"style__StyledLink",componentId:"sc-9rx5u4-4"})(["margin:0 10px;"]);var xt=function(e){var t=e.name,n=e.username,r=e.email,o=e.password,l=e.password2,i=e.onSubmit,c=e.errors,s=function(e){var t=c.find(function(t){return t.param===e});return t?t.msg:t};return a.a.createElement(x,null,a.a.createElement(yt,null,a.a.createElement(wt,null,"Sign Up to Twitter"),a.a.createElement(bt,{onSubmit:i},a.a.createElement(it,Object.assign({type:"text",name:"name"},t,{placeholder:"Name",autocomplete:"name",error:!!s("name"),errorMsg:s("name")})),a.a.createElement(it,Object.assign({type:"text",name:"username"},n,{placeholder:"Username",autocomplete:"username",error:!!s("username"),errorMsg:s("username")})),a.a.createElement(it,Object.assign({type:"email",name:"email"},r,{placeholder:"Email",autocomplete:"new-password",error:!!s("email"),errorMsg:s("email")})),a.a.createElement(it,Object.assign({type:"password",name:"password"},o,{placeholder:"Password",error:!!s("password"),errorMsg:s("password")})),a.a.createElement(it,Object.assign({type:"password",name:"password2"},l,{placeholder:"Repeat password",error:!!s("password2"),errorMsg:s("password2")})),a.a.createElement(J,{primary:!0,type:"submit"},"Sign Up")),a.a.createElement(Et,null,"Already have an account?",a.a.createElement(vt,{to:"/signin"},"Sign In now ",a.a.createElement("i",{className:"fas fa-angle-double-right"})))))};var _t=Object(O.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r,a,o;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Content-Type":"application/json"}},a=JSON.stringify(e),t.prev=2,t.next=5,A.a.post("/api/users/register",a,r);case 5:o=t.sent,n({type:"REGISTER_SUCCESS",payload:o.data}),n(D()),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),n(R("There was a problem with the server","danger")),n({type:k,payload:t.t0.response.data.errors||[]}),n({type:"REGISTER_FAIL"});case 15:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}()},clearErrors:ot})(function(e){var t=ht(""),n=ht(""),o=ht(""),l=ht(""),i=ht(""),c=Object(r.useState)([]),s=Object(j.a)(c,2),d=s[0],p=s[1],m=Object(r.useState)(!1),f=Object(j.a)(m,2),h=f[0],g=f[1],y=e.auth.isAuthenticated,w=e.errors,b=e.clearErrors;return Object(r.useEffect)(function(){y&&g(y),mt(w)||p(w)},[y,w]),Object(r.useEffect)(function(){return function(){return b()}},[]),h?a.a.createElement(u.a,{to:"/"}):a.a.createElement(xt,{name:t,email:n,username:o,password:l,password2:i,onSubmit:function(r){r.preventDefault();var a={name:t.value,email:n.value,username:o.value,password:l.value,password2:i.value},c=ft(a);c?p(c):e.registerUser(a)},errors:d})}),Ot=d.d.div.withConfig({displayName:"style__LandingContainer",componentId:"uhs3es-0"})(["text-align:center;margin-top:50px;"]);var jt=function(){return a.a.createElement(x,null,a.a.createElement(Ot,null,a.a.createElement(q,null,"Twitter Clone"),a.a.createElement(H,null,"Please Sign In, or Sign Up if you don't have an account yet")))},Ct=function(e,t){return function(){var n=Object(S.a)(T.a.mark(function n(r){return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.a.post("/api/tweets/like/".concat(e));case 3:r({type:"LIKE_TWEET",payload:{tweetId:e,authUserId:t}}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r({type:k,payload:n.t0.response.data.errors||[]});case 9:case"end":return n.stop()}},n,null,[[0,6]])}));return function(e){return n.apply(this,arguments)}}()},kt=function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.confirm("Are you sure you want to remove this tweet?")){t.next=6;break}return t.next=4,A.a.delete("/api/tweets/".concat(e));case 4:n({type:"REMOVE_TWEET",payload:e}),n(R("Tweet successfully deleted","success"));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:k,payload:t.t0.response.data.errors||[]});case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},It=n(22),Nt=n.n(It),Tt=d.d.div.withConfig({displayName:"style__Container",componentId:"jnr2yj-0"})(["height:100%;max-width:800px;margin:0 auto;"]),St=d.d.div.withConfig({displayName:"style__Board",componentId:"jnr2yj-1"})(["background-color:#fff;box-shadow:0px 0px 5px 1px rgba(0,0,0,0.3);"]),Pt=d.d.div.withConfig({displayName:"style__HeaderWrapper",componentId:"jnr2yj-2"})(["padding:5px;border-bottom:1px solid #eee;"]),At=d.d.h3.withConfig({displayName:"style__Header",componentId:"jnr2yj-3"})(["margin:5px;"]),Lt=d.d.ul.withConfig({displayName:"style__List",componentId:"jnr2yj-4"})([""]),Ut=d.d.li.withConfig({displayName:"style__ListItem",componentId:"jnr2yj-5"})(["position:relative;display:flex;flex-direction:row;align-items:center;padding:7px 12px;border-bottom:1px solid #eee;cursor:pointer;&:hover{background-color:#eee;}"]),Mt=d.d.div.withConfig({displayName:"style__ListItemContent",componentId:"jnr2yj-6"})(["display:flex;flex-direction:column;justify-content:space-around;"]),Rt=d.d.div.withConfig({displayName:"style__TweetUserGroup",componentId:"jnr2yj-7"})(["display:flex;flex-direction:row;flex-wrap:wrap;"]),Dt=d.d.p.withConfig({displayName:"style__TweetText",componentId:"jnr2yj-8"})(["margin:5px;"]),Ft=d.d.div.withConfig({displayName:"style__TweetBottomGroup",componentId:"jnr2yj-9"})(["margin-top:10px;"]),Gt=d.d.span.withConfig({displayName:"style__TweetUserName",componentId:"jnr2yj-10"})(["font-weight:bold;"]),Bt=d.d.span.withConfig({displayName:"style__TweetUserUsername",componentId:"jnr2yj-11"})(["font-weight:bold;"]),zt=d.d.span.withConfig({displayName:"style__ItemGroup",componentId:"jnr2yj-12"})(["padding:0 5px;"]),Wt=Object(d.d)(zt).withConfig({displayName:"style__LikeItemGroup",componentId:"jnr2yj-13"})(["&:hover i{color:",";}"],function(e){return e.theme.colors.red}),qt=d.d.i.withConfig({displayName:"style__Icon",componentId:"jnr2yj-14"})(["font-size:1.25em;"]),Ht=Object(d.d)(qt).withConfig({displayName:"style__LikeIcon",componentId:"jnr2yj-15"})(["color:",";"],function(e){return!0===e.liked?e.theme.colors.red:"inherit"}),Yt=Object(d.d)(J).withConfig({displayName:"style__DeleteButton",componentId:"jnr2yj-16"})(["background-color:",";color:#fff;position:absolute;right:10px;"],function(e){return e.theme.colors.red}),Vt=n(12),Jt=n.n(Vt);var Kt=function(e){var t=e.tweets,n=e.auth,r=e.handleTweetClick,o=e.handleActionClick;return t&&0!==t.length?a.a.createElement(Tt,null,a.a.createElement(St,null,a.a.createElement(Pt,null,a.a.createElement(At,null,"Tweets")),a.a.createElement(Lt,null,t.length>0?t.map(function(e){var t=n.user&&n.user._id===e.user._id,l=!(!n.user||!e.likes.find(function(e){return e===n.user._id}));return a.a.createElement(Ut,{key:e._id,onClick:function(){return r(e)}},a.a.createElement(ne,{small:!0,src:e.user.avatar||Jt.a,alt:"User Avatar"}),a.a.createElement(Mt,null,a.a.createElement(Rt,null,a.a.createElement(zt,null,a.a.createElement(Gt,null,e.user.name)),a.a.createElement(zt,null,"@",a.a.createElement(Bt,null,e.user.username)),a.a.createElement(zt,null,a.a.createElement(Nt.a,{format:"DD/MM/YYYY",withTitle:!0},e.created))),a.a.createElement("div",null,a.a.createElement(Dt,null,e.text)),a.a.createElement(Ft,null,a.a.createElement(zt,null,a.a.createElement(qt,{className:"far fa-comment"})," ",e.comments.length),a.a.createElement(Wt,{onClick:function(t){return o(t,"like",e._id)}},a.a.createElement(Ht,{className:"far fa-heart",liked:l})," ",e.likes.length))),t?a.a.createElement(Yt,{onClick:function(t){return o(t,"remove",e._id)}},"Delete"):null)}):""))):a.a.createElement(Tt,null,a.a.createElement(Y,null,"There are no tweets to display"))};var Qt=Object(O.b)(function(e){return{auth:e.auth}},{setCurrentTweet:function(e){return{type:"GET_TWEET",payload:e}},likeTweet:Ct,removeTweet:kt})(Object(u.g)(function(e){var t=e.tweets,n=e.setCurrentTweet,r=e.likeTweet,o=e.removeTweet,l=e.auth,i=e.history;return a.a.createElement(Kt,{tweets:t,auth:l,handleActionClick:function(e,t,n){e.stopPropagation(),l.isAuthenticated?"like"===t?r(n,l.user._id):"remove"===t&&o(n):i.push({pathname:"/signin"})},handleTweetClick:function(e){var t=e.user,r=e._id;n(e),i.push({pathname:"/".concat(t.username,"/status/").concat(r),state:{modal:!0}})}})}));function Xt(){var e=Object(f.a)(["\n      width: 300px;\n      height: 300px;\n    "]);return Xt=function(){return e},e}function $t(){var e=Object(f.a)(["\n      width: 70px;\n      height: 70px;\n    "]);return $t=function(){return e},e}var Zt=d.d.img.withConfig({displayName:"UserAvatar",componentId:"sc-1hlk4eo-0"})(["width:150px;height:150px;border-radius:50%;border:2px solid #fff;flex-shrink:0;margin:0.7rem;"," ",""],function(e){return e.small&&Object(d.c)($t())},function(e){return e.big&&Object(d.c)(Xt())}),en=d.d.h2.withConfig({displayName:"style__StyledUserName",componentId:"sc-1021pyj-0"})(["margin:5px;color:#000;"]),tn=d.d.p.withConfig({displayName:"style__StyledUserUsername",componentId:"sc-1021pyj-1"})(["margin:5px;color:#67757f;"]),nn=Object(d.d)(s.b).withConfig({displayName:"style__UserInfoLink",componentId:"sc-1021pyj-2"})([":hover{color:",";}font-size:0.9em;"],function(e){return e.theme.colors.darkerBlue}),rn=d.d.p.withConfig({displayName:"style__UserInfoJoined",componentId:"sc-1021pyj-3"})(["margin:10px 5px;"]),an=d.d.li.withConfig({displayName:"style__ListItem",componentId:"sc-1021pyj-4"})(["flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0 10px;padding:10px;"]),on=d.d.span.withConfig({displayName:"style__Key",componentId:"sc-1021pyj-5"})(["font-size:1em;color:",";font-weight:bold;"],function(e){return e.theme.colors.darkGray}),ln=d.d.span.withConfig({displayName:"style__Value",componentId:"sc-1021pyj-6"})(["font-size:1.3em;color:",";font-weight:bold;"],function(e){return e.theme.colors.blue}),cn=d.d.div.withConfig({displayName:"style__ProfileHeaderMenu",componentId:"sc-1021pyj-7"})(["background-color:#fff;color:#67757f;display:flex;flex-direction:row;justify-content:flex-end;align-items:center;flex-wrap:wrap;-webkit-box-shadow:0px 2px 5px 0px rgba(0,0,0,0.2);-moz-box-shadow:0px 2px 5px 0px rgba(0,0,0,0.2);box-shadow:0px 2px 5px 0px rgba(0,0,0,0.2);"]),sn=d.d.ul.withConfig({displayName:"style__HeaderMenuList",componentId:"sc-1021pyj-8"})(["margin:auto;display:flex;flex-direction:row;justify-content:space-around;align-items:center;flex-wrap:wrap;"]),un=function(e){var t=e.username,n=e.name;return a.a.createElement(en,null,a.a.createElement(nn,{to:"/".concat(t)},n))},dn=function(e){var t=e.username;return a.a.createElement(tn,null,"@",a.a.createElement(nn,{to:"/".concat(t)},t))},pn=function(e){var t=e.label,n=e.value;return a.a.createElement(an,null,a.a.createElement(on,null,t),a.a.createElement(ln,null,n))};function mn(){var e=Object(f.a)(["\n  width: 100%;\n  height: 50%;\n  min-height: 100px;\n  background: ",";\n"]);return mn=function(){return e},e}var fn=d.d.div(mn(),function(e){return e.showColor?e.theme.colors.blue:"none"});function hn(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n"]);return hn=function(){return e},e}var gn=d.d.ul(hn());function yn(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return yn=function(){return e},e}var wn=d.d.div(yn());function bn(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n\n  @media screen and (min-width: 1170px) {\n    justify-content: flex-start;\n  }\n"]);return bn=function(){return e},e}var En=d.d.div(bn());function vn(){var e=Object(f.a)(["\n  margin-bottom: 15px;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0px 0px 5px 1px rgba(0, 0, 0, 0.3);\n"]);return vn=function(){return e},e}var xn=d.d.div(vn());xn.Background=fn,xn.HeaderMenu=gn,xn.MidFlex=wn,xn.StatsContainer=En;var _n=xn;var On=function(e){var t=e.profile;return a.a.createElement(_n,null,a.a.createElement(_n.Background,{showColor:!t.backgroundPicture},t.backgroundPicture?a.a.createElement(re,{src:t.backgroundPicture,alt:"".concat(t.user.name||"User"," background")}):""),a.a.createElement(_n.MidFlex,null,a.a.createElement(Zt,{className:"user-preview-avatar",src:t.user.avatar||Jt.a,alt:"User avatar",small:!0}),a.a.createElement("div",{className:"user-preview-user-data"},a.a.createElement(un,{name:t.user.name,username:t.user.username}),a.a.createElement(dn,{username:t.user.username}))),a.a.createElement(_n.StatsContainer,null,a.a.createElement(_n.HeaderMenu,null,a.a.createElement(s.b,{to:"".concat(t.user.username)},a.a.createElement(pn,{label:"Tweets",value:t.tweets.length})),a.a.createElement(s.b,{to:"".concat(t.user.username,"/following")},a.a.createElement(pn,{label:"Following",value:t.following.length,username:t.user.username})),a.a.createElement(s.b,{to:"".concat(t.user.username,"/followers")},a.a.createElement(pn,{label:"Followers",value:t.followers.length,username:t.user.username})))))},jn=d.d.main.withConfig({displayName:"style__Container",componentId:"sc-1kdoo3r-0"})(["display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap;width:100%;max-width:1300px;margin:0 auto;padding:10px 15px;"]),Cn=d.d.div.withConfig({displayName:"style__LeftSidebar",componentId:"sc-1kdoo3r-1"})(["flex:290px;max-width:500px;margin:0 0.7rem;"]),kn=d.d.div.withConfig({displayName:"style__Main",componentId:"sc-1kdoo3r-2"})(["flex:500px;max-width:800px;"]);var In=function(e){var t=e.profile,n=e.tweet;return a.a.createElement(jn,null,a.a.createElement(Cn,null,a.a.createElement(On,{profile:t})),a.a.createElement(kn,null,n.loading||null===n.tweets?a.a.createElement(ce,null):a.a.createElement(Qt,{tweets:n.tweets})))},Nn=function(){return function(){var e=Object(S.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Tn()),e.prev=1,e.next=4,A.a.get("/api/profiles");case 4:n=e.sent,t({type:"GET_PROFILE",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:k,payload:e.t0.response.data.errors});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},Tn=function(){return{type:"PROFILE_LOADING"}};var Sn=Object(O.b)(function(e){return{profile:e.profile,tweet:e.tweet,errors:e.errors}},{getUserProfile:Nn,getUserHomepageTweets:function(){return function(){var e=Object(S.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"TWEET_LOADING"}),e.prev=1,e.next=4,A.a.get("/api/tweets/homepageTweets");case 4:n=e.sent,t({type:"GET_TWEETS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:k,payload:e.t0.response.data.errors||[]});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getUserProfile,n=e.getUserHomepageTweets,o=e.profile.profile,l=e.tweet;return Object(r.useEffect)(function(){t(),n()},[t,n]),null===o?a.a.createElement(ce,null):a.a.createElement(In,{profile:o,tweet:l})}),Pn=Object(O.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){for(var t=e.isAuthenticated,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t?a.a.createElement(Sn,r):a.a.createElement(jt,r)}),An=d.d.div.withConfig({displayName:"TextareaGroup__Feedback",componentId:"sc-1jyrqyl-0"})(["color:red;padding:5px 0;"]),Ln=function(e){var t=e.textarea,n=e.text,r=e.handleChange,o=e.handleEnterPress,l=e.placeholder,i=e.error,c=e.errorMsg;return a.a.createElement(a.a.Fragment,null,a.a.createElement(t,{value:n,onChange:r,onKeyUp:o,placeholder:l,error:i}),c?a.a.createElement(An,null,c):"")};function Un(){var e=Object(f.a)(["\n      background-color: #9fd8fb;\n    "]);return Un=function(){return e},e}var Mn=d.d.div.withConfig({displayName:"style__Wrapper",componentId:"sc-1jel23h-0"})(["z-index:2;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.5);"]),Rn=d.d.div.withConfig({displayName:"style__Modal",componentId:"sc-1jel23h-1"})(["z-index:3;position:absolute;top:10%;left:50%;transform:translateX(-50%);width:80%;max-width:500px;background-color:#fff;border-radius:5px;"]),Dn=d.d.div.withConfig({displayName:"style__Header",componentId:"sc-1jel23h-2"})(["text-align:center;position:relative;"]),Fn=d.d.h3.withConfig({displayName:"style__Title",componentId:"sc-1jel23h-3"})(["padding:15px 0;font-size:1.1rem;"]),Gn=d.d.button.withConfig({displayName:"style__CloseButton",componentId:"sc-1jel23h-4"})(["color:gray;position:absolute;right:0;top:0;cursor:pointer;padding:15px;font-size:1.2rem;"]),Bn=d.d.div.withConfig({displayName:"style__Box",componentId:"sc-1jel23h-5"})(["background-color:rgba(29,161,242,0.1);display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;padding:10px 15px;"]),zn=d.d.div.withConfig({displayName:"style__AvatarWrapper",componentId:"sc-1jel23h-6"})([""]),Wn=d.d.i.withConfig({displayName:"style__Avatar",componentId:"sc-1jel23h-7"})(["font-size:2rem;color:gray;margin-top:2px;"]),qn=d.d.div.withConfig({displayName:"style__Content",componentId:"sc-1jel23h-8"})(["width:100%;padding-left:10px;"]),Hn=d.d.form.withConfig({displayName:"style__Form",componentId:"sc-1jel23h-9"})(["display:flex;flex-direction:column;align-items:flex-end;"]),Yn=d.d.textarea.withConfig({displayName:"style__Textarea",componentId:"sc-1jel23h-10"})(["border-radius:5px;font-size:15px;padding:5px;width:100%;border:2px solid;border-color:",";min-height:70px;resize:none;"],function(e){return e.error?"red":"lightblue"}),Vn=Object(d.d)(J).withConfig({displayName:"style__Button",componentId:"sc-1jel23h-11"})(["",""],function(e){return e.disabled&&Object(d.c)(Un())});var Jn=function(e){var t=e.text,n=e.errors,r=e.handleChange,o=e.handleSubmit,i=e.handleEnterPress,c=e.loading,s=e.handleCloseModal,u=e.wrapperRef;return l.a.createPortal(a.a.createElement(Mn,{ref:u},a.a.createElement(Rn,null,a.a.createElement(Dn,null,a.a.createElement(Fn,null,"Compose new Tweet"),a.a.createElement(Gn,{as:"i",className:"fas fa-times",onClick:s})),a.a.createElement(Bn,null,a.a.createElement(zn,null,a.a.createElement(Wn,{as:"i",className:"fas fa-user-circle",onClick:function(){return alert("Avatar clicked")}})),a.a.createElement(qn,null,c?a.a.createElement(ce,null):a.a.createElement(Hn,{onSubmit:o},a.a.createElement(Ln,{textarea:Yn,text:t,handleChange:r,handleEnterPress:i,placeholder:"What's happening?",error:!!n.text,errorMsg:n.text||""}),a.a.createElement(Vn,{primary:!0,type:"submit",disabled:!t},"Tweet")))))),document.getElementById("root"))};var Kn=Object(O.b)(function(e){return{tweetLoading:e.tweet.loading,profile:e.profile.profile,auth:e.auth}},{closeCreateTweetModal:I,createTweet:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(S.a)(T.a.mark(function n(r){var a,o,l;return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t&&r({type:"TWEET_LOADING"}),a={headers:{"Content-Type":"application/json"}},o=JSON.stringify(e),n.prev=3,n.next=6,A.a.post("/api/tweets",o,a);case 6:l=n.sent,r({type:"CREATE_TWEET",payload:{data:l.data,addNewTweetToState:t}}),r({type:"CLOSE_CREATE_TWEET_MODAL"}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),r({type:k,payload:n.t0.response.data.errors||[]});case 14:case"end":return n.stop()}},n,null,[[3,11]])}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var t=e.closeCreateTweetModal,n=e.createTweet,o=e.tweetLoading,l=e.profile,i=e.auth,c=Object(r.useState)(""),s=Object(j.a)(c,2),u=s[0],d=s[1],p=Object(r.useState)([]),m=Object(j.a)(p,2),f=m[0],h=m[1],g=Object(r.useRef)(null);function y(e){return!(e.text.length<2||e.text.length>140)||(h([{msg:"Tweet text length must be between 2 and 140 characters",param:"tweet"}]),!1)}function w(){var e=!0;return i.user&&i.user._id&&l.user&&l.user._id&&i.user._id!==l.user._id&&(e=!1),e}return Object(r.useEffect)(function(){function e(e){null!==g&&e.target===g.current&&t()}return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}},[]),a.a.createElement(Jn,{text:u,errors:f,loading:o,handleChange:function(e){d(e.target.value)},handleSubmit:function(e){e.preventDefault();var t={text:u};y(t)&&n(t,w())},handleEnterPress:function(e){if(e.preventDefault(),13===e.keyCode&&!1===e.shiftKey){var t={text:u};y(t)&&n(t,w())}},handleCloseModal:t,wrapperRef:g})}),Qn=Object(O.b)(function(e){var t=e.UI,n=e.auth;return{showCreateTweetModal:t.showCreateTweetModal,isAuthenticated:n.isAuthenticated}})(function(e){var t=e.isAuthenticated,n=e.showCreateTweetModal;return t&&n&&a.a.createElement(Kn,null)}),Xn=d.d.div.withConfig({displayName:"style__Container",componentId:"sc-17sxq0y-0"})(["display:flex;flex-direction:column;height:100%;background-color:#eee;"]),$n=d.d.div.withConfig({displayName:"style__BackgroundContainer",componentId:"sc-17sxq0y-1"})(["height:250px;background:#29a3ef;overflow:hidden;position:relative;"]),Zn=d.d.div.withConfig({displayName:"style__AddBackground",componentId:"sc-17sxq0y-2"})(["position:absolute;top:50%;left:50%;text-align:center;transform:translate(-50%,-50%);font-size:1.5rem;font-weight:200;color:#fff;"]),er=d.d.i.withConfig({displayName:"style__AddBackgroundButton",componentId:"sc-17sxq0y-3"})(["cursor:pointer;"]),tr=d.d.img.withConfig({displayName:"style__Background",componentId:"sc-17sxq0y-4"})(["object-fit:cover;width:100%;max-width:100%;height:100%;"]),nr=d.d.div.withConfig({displayName:"style__ProfileTweetsBoard",componentId:"sc-17sxq0y-5"})(["padding:7px 12px;margin-bottom:10px;"]),rr=d.d.div.withConfig({displayName:"style__StyledProfilesList",componentId:"sc-17sxq0y-7"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;flex-wrap:wrap;padding:1rem;background-color:#fff;"]),ar=d.d.div.withConfig({displayName:"style__PagesContainer",componentId:"sc-17sxq0y-8"})(["background-color:#fff;width:100%;padding:30px 15px;"]);var or=Object(O.b)(function(e){return{tweet:e.tweet,profile:e.profile}},{getUserTweets:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"TWEET_LOADING"}),t.prev=1,t.next=4,A.a.get("/api/tweets/all/".concat(e));case 4:r=t.sent,n({type:"GET_TWEETS",payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:k,payload:t.t0.response.data.errors||[]});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.profile.profile,n=e.tweet,o=n.tweets,l=n.loading,i=e.getUserTweets;return Object(r.useEffect)(function(){i(t.user._id)},[t.user._id]),a.a.createElement(nr,null,l||null===o?a.a.createElement(ce,null):a.a.createElement(Qt,{tweets:o}))});var lr=function(e){return a.a.createElement(rr,null,e.children)},ir=d.d.div.withConfig({displayName:"style__Container",componentId:"rrgwly-0"})(["min-width:250px;max-height:100px;border-radius:5px;box-shadow:1px 1px 5px 0px ",";padding:10px 15px;margin:0.5rem 1rem;"],function(e){return e.theme.colors.red}),cr=d.d.div.withConfig({displayName:"style__FlexContainer",componentId:"rrgwly-1"})(["display:flex;flex-direction:row;align-items:flex-start;"]),sr=d.d.div.withConfig({displayName:"style__TextContainer",componentId:"rrgwly-2"})(["margin:0.7em;display:flex;flex-direction:column;"]),ur=d.d.p.withConfig({displayName:"style__StyledName",componentId:"rrgwly-3"})(["font-weight:bold;"]),dr=d.d.p.withConfig({displayName:"style__StyledUsername",componentId:"rrgwly-4"})(["color:",";"],function(e){return e.theme.colors.gray});var pr=function(e){var t=e.profile;return a.a.createElement(ir,null,a.a.createElement(s.b,{to:"/".concat(t.user.username)},a.a.createElement(cr,null,a.a.createElement(ne,{src:t.user.avatar||Jt.a,alt:"".concat(t.user.name," avatar"),tiny:!0}),a.a.createElement(sr,null,a.a.createElement(ur,null,t.user.name),a.a.createElement(dr,null,"@",t.user.username),t.bio&&a.a.createElement("p",null,t.bio)))))};var mr=Object(O.b)(function(e){return{profile:e.profile}},{getProfileFollowing:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Tn()),t.prev=1,t.next=4,A.a.get("/api/profiles/follow/".concat(e,"/following"));case 4:r=t.sent,n({type:"GET_PROFILES",payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:k,payload:t.t0.response.data.errors||[]});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.profile,n=t.profile,o=t.profiles,l=t.loading,i=e.getProfileFollowing;return Object(r.useEffect)(function(){i(n.user._id)},[n.user._id]),a.a.createElement(a.a.Fragment,null,l||null===o?a.a.createElement(ce,null):a.a.createElement(lr,null,o.length>0?a.a.createElement(a.a.Fragment,null,o.map(function(e){return a.a.createElement(pr,{key:e._id,profile:e})})):a.a.createElement(Y,null,"There are no profiles to display")))});var fr=Object(O.b)(function(e){return{profile:e.profile}},{getProfileFollowers:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Tn()),t.prev=1,t.next=4,A.a.get("/api/profiles/follow/".concat(e,"/followers"));case 4:r=t.sent,n({type:"GET_PROFILES",payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:k,payload:t.t0.response.data.errors||[]});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.profile,n=t.profile,o=t.profiles,l=t.loading,i=e.getProfileFollowers;return Object(r.useEffect)(function(){i(n.user._id)},[n.user._id]),a.a.createElement(a.a.Fragment,null,l||null===o?a.a.createElement(ce,null):a.a.createElement(lr,null,o.length>0?a.a.createElement(a.a.Fragment,null,o.map(function(e){return a.a.createElement(pr,{key:e._id,profile:e})})):a.a.createElement(Y,null,"There are no profiles to display")))});var hr=Object(O.b)(function(e){return{tweet:e.tweet,profile:e.profile,errors:e.errors}},{getUserLikeTweets:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"TWEET_LOADING"}),t.prev=1,t.next=4,A.a.get("/api/tweets/like/".concat(e));case 4:r=t.sent,n({type:"GET_TWEETS",payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:k,payload:t.t0.response.data.errors||[]});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.tweet,n=t.tweets,o=t.loading,l=e.profile.profile,i=e.getUserLikeTweets;return Object(r.useEffect)(function(){i(l.user._id)},[l.user._id]),a.a.createElement(nr,null,o||null===n?a.a.createElement(ce,null):a.a.createElement(Qt,{tweets:n}))}),gr=d.d.div.withConfig({displayName:"NotFoundPage__Box",componentId:"k9kjpw-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;display:flex;flex-direction:column;"]),yr=d.d.h1.withConfig({displayName:"NotFoundPage__Message",componentId:"k9kjpw-1"})([""]);function wr(e){var t=e.message;return a.a.createElement(x,null,a.a.createElement(gr,null,a.a.createElement(yr,null,t),a.a.createElement(X,{as:s.b,to:"/"},"Visit Homepage")))}wr.defaultProps={message:"404 - Page Not Found"};var br=wr,Er=function(e){var t=e.created;return a.a.createElement(rn,null,a.a.createElement("i",{className:"fas fa-calendar-alt"})," Joined"," ",a.a.createElement(Nt.a,{format:"MMMM YYYY",withTitle:!0},t))};var vr=function(e){var t=e.profile;return a.a.createElement("div",{className:"profile-user-info"},a.a.createElement(Zt,{src:t.user.avatar||Jt.a,alt:"User Avatar"}),a.a.createElement(un,{username:t.user.username,name:t.user.name}),a.a.createElement(dn,{username:t.user.username}),t.location&&a.a.createElement("p",null,"Location: ",t.location),t.bio&&a.a.createElement("p",null,"Bio: ",t.bio),t.website&&a.a.createElement("p",null,"Website: ",t.website),a.a.createElement(Er,{created:t.created}))},xr=function(e){var t=e.profile,n=e.owner,r=e.isAuthenticated,o=e.followed,l=e.handleFollowButtonClick,i=t.user,c=t.tweets,u=t.following,d=t.followers,p=t.likes;return a.a.createElement(cn,null,a.a.createElement(sn,null,a.a.createElement(s.b,{to:"/".concat(i.username)},a.a.createElement(pn,{label:"Tweets",value:c.length})),a.a.createElement(s.b,{to:"/".concat(i.username,"/following")},a.a.createElement(pn,{label:"Following",value:u.length})),a.a.createElement(s.b,{to:"/".concat(i.username,"/followers")},a.a.createElement(pn,{label:"Followers",value:d.length})),a.a.createElement(s.b,{to:"/".concat(i.username,"/likes")},a.a.createElement(pn,{label:"Likes",value:p.length}))),n?a.a.createElement("div",null,a.a.createElement(Q,{as:s.b,primary:"true",to:"/edit-profile"},"Edit Profile")):a.a.createElement("div",null,r?a.a.createElement($,{primary:!0,onClick:l},o?"Unfollow":"Follow"):""))};var _r=Object(O.b)(function(e){return{tweet:e.tweet,auth:e.auth}},{followProfile:function(e,t){return function(){var n=Object(S.a)(T.a.mark(function n(r){return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.a.post("/api/profiles/follow/".concat(t));case 3:r({type:C,payload:{authUserId:e,userId:t}}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r({type:k,payload:n.t0.response.data.errors||[]});case 9:case"end":return n.stop()}},n,null,[[0,6]])}));return function(e){return n.apply(this,arguments)}}()},unfollowProfile:function(e,t){return function(){var n=Object(S.a)(T.a.mark(function n(r){return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.a.post("/api/profiles/unfollow/".concat(t));case 3:r({type:"UNFOLLOW",payload:{authUserId:e,userId:t}}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r({type:k,payload:n.t0.response.data.errors||[]});case 9:case"end":return n.stop()}},n,null,[[0,6]])}));return function(e){return n.apply(this,arguments)}}()}})(Object(u.g)(function(e){var t=e.profile.profile,n=e.auth,r=e.followProfile,o=e.unfollowProfile,l=e.match,i=!(!n.user||!t.followers.find(function(e){return e===n.user._id})),c=!(!n.user||n.user._id!==t.user._id);return a.a.createElement(Xn,null,a.a.createElement($n,null,t.backgroundPicture?a.a.createElement(tr,{alt:"".concat(t.user.name," background"),src:t.backgroundPicture}):a.a.createElement(Zn,null,c?a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,"Add background picture")," ",a.a.createElement(er,{className:"fas fa-plus-circle",as:s.b,to:"/edit-profile"})):"")),a.a.createElement(xr,{profile:t,owner:c,isAuthenticated:n.isAuthenticated,followed:i,handleFollowButtonClick:function(){i?o(n.user._id,t.user._id):r(n.user._id,t.user._id)}}),a.a.createElement("div",null,a.a.createElement(vr,{profile:t}),a.a.createElement(ar,null,a.a.createElement(u.d,null,a.a.createElement(u.b,{exact:!0,path:"".concat(l.path),component:or}),a.a.createElement(u.b,{path:"".concat(l.path,"/following"),component:mr}),a.a.createElement(u.b,{path:"".concat(l.path,"/followers"),component:fr}),a.a.createElement(u.b,{path:"".concat(l.path,"/likes"),component:hr}),a.a.createElement(u.b,{component:br})))))})),Or=d.d.div.withConfig({displayName:"style__Wrapper",componentId:"euj4lc-0"})(["margin:30px auto;text-align:center;"]),jr=d.d.p.withConfig({displayName:"style__Message",componentId:"euj4lc-1"})(["color:red;font-weight:bold;font-size:1.5rem;"]);function Cr(e){var t=e.errors;return a.a.createElement(Or,null,t.map(function(e){return a.a.createElement(jr,{key:e.msg},e.msg)}))}Cr.defaultProps={errors:[{msg:"Something went wrong..."}]};var kr=d.d.div.withConfig({displayName:"style__Container",componentId:"sc-8v5kpy-0"})(["position:fixed;background-color:rgba(0,0,0,0.5);top:0;bottom:0;right:0;left:0;"]),Ir=d.d.div.withConfig({displayName:"style__StyledTweet",componentId:"sc-8v5kpy-1"})(["z-index:10;max-height:80vh;overflow:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:5px;background-color:#fff;width:80%;max-width:650px;display:flex;flex-direction:column;padding-bottom:30px;"]),Nr=d.d.div.withConfig({displayName:"style__Main",componentId:"sc-8v5kpy-2"})(["padding:30px 40px 10px;"]),Tr=d.d.div.withConfig({displayName:"style__TopFlex",componentId:"sc-8v5kpy-3"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;"]),Sr=d.d.div.withConfig({displayName:"style__UserGroup",componentId:"sc-8v5kpy-4"})(["display:flex;flex-direction:row;"]),Pr=d.d.div.withConfig({displayName:"style__UserInfo",componentId:"sc-8v5kpy-5"})(["display:flex;flex-direction:column;justify-content:center;"]),Ar=d.d.div.withConfig({displayName:"style__TweetContent",componentId:"sc-8v5kpy-7"})(["display:flex;flex-direction:column;justify-content:space-between;"]),Lr=d.d.p.withConfig({displayName:"style__TweetText",componentId:"sc-8v5kpy-9"})(["font-size:27px;line-height:32px;letter-spacing:0.01em;"]),Ur=d.d.p.withConfig({displayName:"style__TweetDate",componentId:"sc-8v5kpy-10"})(["color:",";padding:20px 0;"],function(e){return e.theme.colors.darkGray}),Mr=d.d.div.withConfig({displayName:"style__SocialGroup",componentId:"sc-8v5kpy-11"})(["padding:15px;border-top:0.5px solid #eee;border-bottom:0.5px solid #eee;display:flex;flex-direction:row;flex-wrap:wrap;"]),Rr=d.d.div.withConfig({displayName:"style__TweetActionGroup",componentId:"sc-8v5kpy-12"})(["margin:10px 0 20px;"]),Dr=d.d.span.withConfig({displayName:"style__TweetAction",componentId:"sc-8v5kpy-13"})(["color:",";margin-right:20px;&:last-child{margin-right:0;}font-size:1.25em;cursor:pointer;"],function(e){return e.theme.colors.darkGray}),Fr=Object(d.d)(Dr).withConfig({displayName:"style__LikeTweetAction",componentId:"sc-8v5kpy-14"})(["&:hover i{color:",";}"],function(e){return e.theme.colors.red}),Gr=d.d.span.withConfig({displayName:"style__TweetUserName",componentId:"sc-8v5kpy-16"})(["font-size:18px;font-weight:bold;&:hover{color:",";}"],function(e){return e.theme.colors.blue}),Br=d.d.span.withConfig({displayName:"style__TweetUserUsername",componentId:"sc-8v5kpy-17"})(["color:",";"],function(e){return e.theme.colors.gray}),zr=d.d.span.withConfig({displayName:"style__ItemGroup",componentId:"sc-8v5kpy-18"})(["padding:0 5px;cursor:pointer;"]),Wr=d.d.i.withConfig({displayName:"style__Icon",componentId:"sc-8v5kpy-20"})([""]),qr=Object(d.d)(Wr).withConfig({displayName:"style__LikeIcon",componentId:"sc-8v5kpy-21"})(["color:",";"],function(e){return!0===e.liked?e.theme.colors.red:"inherit"}),Hr=d.d.div.withConfig({displayName:"style__CommentContainer",componentId:"sc-19h64ik-0"})(["background-color:#f6f8fa;width:100%;min-height:50px;max-height:70px;display:flex;flex-direction:row;justify-content:stretch;align-items:center;padding:40px;border-top:1px solid #cadae4;border-bottom:1px solid #cadae4;"]),Yr=d.d.form.withConfig({displayName:"style__CommentForm",componentId:"sc-19h64ik-1"})(["flex:1;"]),Vr=Object(d.d)(V).withConfig({displayName:"style__CommentInput",componentId:"sc-19h64ik-2"})(["height:35px;flex:1;border-radius:5px;"]);function Jr(e){var t=e.handleSubmit,n=e.handleChange,r=e.userAvatar,o=e.commentText;return a.a.createElement(Hr,null,a.a.createElement(ne,{tiny:!0,src:r||Jt.a,alt:"User Avatar"}),a.a.createElement(Yr,{onSubmit:t},a.a.createElement(Vr,{placeholder:"Tweet your reply",type:"text",value:o,onChange:n})))}var Kr=function(e){var t=e.handleAddComment,n=e.userAvatar,o=e.errors,l=Object(r.useState)(""),i=Object(j.a)(l,2),c=i[0],s=i[1];return a.a.createElement(Jr,{handleSubmit:function(e){e.preventDefault(),t({text:c},function(){return s("")})},handleChange:function(e){var t=e.target.value;s(t)},commentText:c,userAvatar:n,errors:o})},Qr=d.d.div.withConfig({displayName:"style__Container",componentId:"sc-4cafai-0"})(["width:100%;"]),Xr=d.d.header.withConfig({displayName:"style__Header",componentId:"sc-4cafai-1"})(["padding:5px;border-bottom:1px solid #eee;"]),$r=d.d.h3.withConfig({displayName:"style__Heading",componentId:"sc-4cafai-2"})(["margin:5px;"]),Zr=d.d.ul.withConfig({displayName:"style__List",componentId:"sc-4cafai-3"})([""]),ea=d.d.li.withConfig({displayName:"style__ListItem",componentId:"sc-4cafai-4"})(["position:relative;display:flex;flex-direction:row;align-items:center;padding:7px 12px;border-bottom:1px solid #eee;cursor:pointer;"]),ta=d.d.div.withConfig({displayName:"style__ListItemContent",componentId:"sc-4cafai-5"})(["display:flex;flex-direction:column;justify-content:space-around;"]),na=d.d.div.withConfig({displayName:"style__UserInfoGroup",componentId:"sc-4cafai-6"})(["display:flex;flex-direction:row;flex-wrap:wrap;"]),ra=d.d.span.withConfig({displayName:"style__ItemGroup",componentId:"sc-4cafai-7"})(["padding:0 5px;"]),aa=d.d.p.withConfig({displayName:"style__CommentText",componentId:"sc-4cafai-8"})(["margin:5px;"]),oa=d.d.div.withConfig({displayName:"style__CommentBottomGroup",componentId:"sc-4cafai-9"})(["margin-top:10px;"]),la=d.d.span.withConfig({displayName:"style__CommentUserName",componentId:"sc-4cafai-10"})(["font-weight:bold;"]),ia=d.d.span.withConfig({displayName:"style__CommentUserUsername",componentId:"sc-4cafai-11"})(["font-weight:bold;"]),ca=Object(d.d)(ra).withConfig({displayName:"style__LikeItemGroup",componentId:"sc-4cafai-12"})(["&:hover i{color:",";}"],function(e){return e.theme.colors.red}),sa=d.d.i.withConfig({displayName:"style__Icon",componentId:"sc-4cafai-13"})(["font-size:1.25em;"]),ua=Object(d.d)(sa).withConfig({displayName:"style__LikeIcon",componentId:"sc-4cafai-14"})(["color:",";"],function(e){return!0===e.liked?e.theme.colors.red:"inherit"}),da=Object(d.d)(J).withConfig({displayName:"style__DeleteButton",componentId:"sc-4cafai-15"})(["background-color:",";color:#fff;position:absolute;right:10px;"],function(e){return e.theme.colors.red}),pa=d.d.p.withConfig({displayName:"style__InfoText",componentId:"sc-4cafai-16"})(["text-align:center;padding:10px 15px;font-size:1.15em;color:",";"],function(e){return e.theme.colors.darkGray});function ma(e){var t=e.comment,n=e.handleActionClick,r=e.auth,o={name:t.user&&t.user.name||"Unknown",username:t.user&&t.user.username||"Unknown",avatar:t.user&&t.user.avatar||Jt.a},l=!(!r.user||!t.likes.find(function(e){return e===r.user._id})),i=r.user&&r.user._id===t.user._id;return a.a.createElement(ea,null,a.a.createElement(ne,{small:!0,src:o.avatar,alt:"".concat(o.name," avatar")}),a.a.createElement(ta,null,a.a.createElement(na,null,a.a.createElement(ra,null,a.a.createElement(la,null,o.name)),a.a.createElement(ra,null,a.a.createElement(ia,null,o.username)),a.a.createElement(ra,null,a.a.createElement(Nt.a,{format:"DD/MM/YYYY",withTitle:!0},t.created))),a.a.createElement("div",null,a.a.createElement(aa,null,t.text)),a.a.createElement(oa,null,a.a.createElement(ca,{onClick:function(e){return n(e,"like",t._id)}},a.a.createElement(ua,{className:"far fa-heart",liked:l})," ",t.likes.length))),i?a.a.createElement(da,{onClick:function(e){return n(e,"remove",t._id)}},"Delete"):null)}var fa=function(e){var t=e.comments,n=e.auth,r=e.handleActionClick;return t&&0!==t.length?a.a.createElement(Qr,null,a.a.createElement(Xr,null,a.a.createElement($r,null,"Comments")),a.a.createElement(Zr,null,t.map(function(e){return a.a.createElement(ma,{key:e._id,comment:e,auth:n,handleActionClick:r})}))):a.a.createElement("div",null,a.a.createElement(pa,null,"Tweet does not have any comments"))};var ha=Object(O.b)(function(e){return{comment:e.comment,errors:e.errors,auth:e.auth}},{getComments:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"COMMENT_LOADING"}),t.prev=1,t.next=4,A.a.get("/api/comments/".concat(e));case 4:r=t.sent,n({type:"GET_COMMENTS",payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:k,payload:t.t0.response.data.errors||[]});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},addComment:function(e,t){return function(){var n=Object(S.a)(T.a.mark(function n(r){var a,o,l;return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"COMMENT_LOADING"}),a={headers:{"Content-Type":"application/json"}},o=JSON.stringify(t),n.prev=3,n.next=6,A.a.post("/api/comments/".concat(e),o,a);case 6:l=n.sent,r({type:"ADD_COMMENT",payload:l.data}),r(R("Comment successfully added","success")),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),r(R("There was an error. Cannot add a comment","danger")),r({type:k,payload:n.t0.response.data.errors||[]});case 15:case"end":return n.stop()}},n,null,[[3,11]])}));return function(e){return n.apply(this,arguments)}}()},toggleCommentLike:function(e,t){return function(){var n=Object(S.a)(T.a.mark(function n(r){return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.a.post("/api/comments/like/".concat(e));case 3:r({type:"TOGGLE_COMMENT_LIKE",payload:{commentId:e,authUserId:t}}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r({type:k,payload:n.t0.response.data.errors||[]});case 9:case"end":return n.stop()}},n,null,[[0,6]])}));return function(e){return n.apply(this,arguments)}}()},removeComment:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.a.delete("/api/comments/comment/".concat(e));case 3:n({type:"REMOVE_COMMENT",payload:e}),n(R("Comment successfully removed","success")),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),n(R("Comment cannot be removed","danger")),n({type:k,payload:t.t0.response.data.errors||[]});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(Object(u.g)(function(e){var t=e.tweetId,n=e.comment,o=n.comments,l=(n.loading,e.getComments),i=e.addComment,c=e.toggleCommentLike,s=e.removeComment,u=e.auth,d=e.errors,p=e.history;return Object(r.useEffect)(function(){l(t)},[t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Kr,{handleAddComment:function(e,n){i(t,e),n()},errors:d,userAvatar:u.user&&u.user.avatar}),o?a.a.createElement(fa,{comments:o,auth:u,handleActionClick:function(e,t,n){e.stopPropagation(),u.isAuthenticated?"like"===t?c(n,u.user._id):"remove"===t&&s(n):p.push("/signin")}}):a.a.createElement(ce,null))}));var ga=function(e){var t=e.back,n=e.containerRef,r=e.closeButtonRef,l=e.tweet,i=e.liked,c=e.handleActionClick,u={username:l.user&&l.user.username||"Unknown",name:l.user&&l.user.name||"Unknown",avatar:l.user&&l.user.avatar||Jt.a};return Object(o.createPortal)(a.a.createElement(kr,{onClick:t,ref:n},a.a.createElement(ae,{ref:r}),a.a.createElement(Ir,null,a.a.createElement(Nr,null,a.a.createElement(Tr,null,a.a.createElement(Sr,null,a.a.createElement(s.b,{to:"/".concat(u.username)},a.a.createElement(ne,{small:!0,src:u.avatar,alt:"".concat(u.name," avatar")})),a.a.createElement(Pr,null,a.a.createElement(zr,null,a.a.createElement(Gr,{as:s.b,to:"/".concat(u.username)},u.name)),a.a.createElement(zr,null,"@",a.a.createElement(Br,{as:s.b,to:"/".concat(u.username)},u.username))))),a.a.createElement(Ar,null,a.a.createElement(Lr,null,l.text),a.a.createElement(Ur,null,a.a.createElement(Nt.a,{format:"DD/MM/YYYY",withTitle:!0},l.created)),a.a.createElement(Mr,null,a.a.createElement(zr,null,a.a.createElement("strong",null,l.likes.length)," Likes")),a.a.createElement(Rr,null,a.a.createElement(Dr,null,a.a.createElement(Wr,{className:"far fa-comment"})," ",a.a.createElement("strong",null,l.comments.length)),a.a.createElement(Fr,{onClick:function(e){return c(e,"like",l._id)}},a.a.createElement(qr,{className:"far fa-heart",liked:i})," ",a.a.createElement("strong",null,l.likes.length))))),a.a.createElement(ha,{tweetId:l._id}))),document.getElementById("root"))};var ya=Object(O.b)(function(e){return{auth:e.auth,tweet:e.tweet,errors:e.errors}},{getTweetById:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"TWEET_LOADING"}),t.prev=1,t.next=4,A.a.get("/api/tweets/".concat(e));case 4:r=t.sent,n({type:"GET_TWEET",payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:k,payload:t.t0.response.data.errors||[]});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},removeTweet:kt,likeTweet:Ct})(Object(u.g)(function(e){var t=e.match,n=e.auth,o=e.tweet,l=o.tweet,i=o.loading,c=e.getTweetById,s=e.likeTweet,u=e.removeTweet,d=e.history,p=t.params.status_id,m=Object(r.useRef)(null),f=Object(r.useRef)(null);if(Object(r.useEffect)(function(){l||c(p)},[p,l]),i||!l)return a.a.createElement(ce,null);var h=!(!n.user||!l.likes.find(function(e){return e===n.user._id}));return a.a.createElement(ga,{containerRef:m,closeButtonRef:f,back:function(e){e.target!==m.current&&e.target!==f.current||d.goBack()},tweet:l,liked:h,handleActionClick:function(e,t,r){e.stopPropagation(),n.isAuthenticated?"like"===t?s(r,n.user._id):"remove"===t&&u(r):d.push("/signin")}})}));var wa=Object(O.b)(function(e){return{profile:e.profile,errors:e.errors}},{getProfileByUsername:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Tn()),t.prev=1,t.next=4,A.a.get("/api/profiles/username/".concat(e));case 4:r=t.sent,n({type:"GET_PROFILE",payload:r.data}),n(ot()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:k,payload:t.t0.response.data.errors||[]});case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.profile,n=e.getProfileByUsername,o=e.errors,l=e.match,i=l.params.username;return Object(r.useEffect)(function(){n(i)},[i]),mt(o)?a.a.createElement(a.a.Fragment,null,null===t.profile?a.a.createElement(ce,null):a.a.createElement(_r,{profile:t}),a.a.createElement(u.b,{path:"".concat(l.path,"/status/:status_id"),component:ya})):a.a.createElement(Cr,{errors:o})});var ba=function(e){var t=e.profile,n=t.loading,r=t.profiles;return a.a.createElement(x,null,a.a.createElement(q,null,"All profiles"),n||!r?a.a.createElement(ce,null):a.a.createElement(lr,null,r.length>0?a.a.createElement(a.a.Fragment,null,r.map(function(e){return a.a.createElement(pr,{key:e._id,profile:e})})):a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,null,"There are no profiles to display"))))};var Ea=Object(O.b)(function(e){return{profile:e.profile}},{getProfiles:function(){return function(){var e=Object(S.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Tn()),e.prev=1,e.next=4,A.a.get("/api/profiles/all");case 4:n=e.sent,t({type:"GET_PROFILES",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:k,payload:e.t0.response.data.errors||[]});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.profile,n=e.getProfiles;return Object(r.useEffect)(function(){n()},[]),a.a.createElement(ba,{profile:t})}),va=d.d.div.withConfig({displayName:"style__Container",componentId:"sc-1yecipf-0"})(["width:50%;margin:20px auto;display:flex;flex-direction:column;"]),xa=d.d.div.withConfig({displayName:"style__ActionsContainer",componentId:"sc-1yecipf-1"})(["display:flex;flex-direction:row;justify-content:space-around;margin-top:20px;"]),_a=Object(d.d)(J).withConfig({displayName:"style__EditProfileButton",componentId:"sc-1yecipf-4"})(["border:2px solid ",";color:",";font-weight:bold;background-color:#fff;"],function(e){return e.theme.colors.green},function(e){return e.theme.colors.green}),Oa=Object(d.d)(J).withConfig({displayName:"style__DeleteAccountButton",componentId:"sc-1yecipf-5"})(["border:1px solid;background-color:",";color:#fff;"],function(e){return e.theme.colors.red});var ja=function(e){e.password,e.password2;var t=e.deleteAccount;return e.handlePasswordFormSubmit,a.a.createElement(va,null,a.a.createElement(q,null,"Settings"),a.a.createElement(xa,null,a.a.createElement(_a,{as:s.b,to:"/edit-profile"},"Edit profile"),a.a.createElement(Oa,{onClick:t},"Delete Account")))};var Ca=Object(O.b)(null,{deleteAccount:function(){return function(){var e=Object(S.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Are you sure? This action cannot be undone!")){e.next=6;break}return e.next=4,A.a.delete("/api/profiles");case 4:t({type:"LOGOUT"}),t({type:"CLEAR_PROFILE"});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:k,payload:e.t0.response.data.errors||[]});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.deleteAccount,n=ht(""),r=ht("");return a.a.createElement(ja,{password:n,password2:r,deleteAccount:t,handlePasswordFormSubmit:function(e){e.preventDefault(),console.log("The form has been submitted!")}})}),ka=d.d.form.withConfig({displayName:"style__StyledForm",componentId:"sc-13i6z4q-0"})(["width:80%;max-width:500px;margin:0 auto;","{width:100%;}"],[E.tiny]),Ia=d.d.div.withConfig({displayName:"style__InputGroup",componentId:"sc-13i6z4q-1"})(["margin-top:15px;"]),Na=d.d.label.withConfig({displayName:"style__Label",componentId:"sc-13i6z4q-2"})(["font-size:1.25rem;"]),Ta=d.d.div.withConfig({displayName:"style__ButtonGroup",componentId:"sc-13i6z4q-3"})(["display:flex;justify-content:center;"]),Sa=Object(d.d)(J).withConfig({displayName:"style__SaveButton",componentId:"sc-13i6z4q-4"})(["background-color:",";color:white;border-radius:5px;"],function(e){return e.theme.colors.green}),Pa=Object(d.d)(J).withConfig({displayName:"style__CancelButton",componentId:"sc-13i6z4q-5"})(["background-color:",";color:white;border-radius:5px;"],function(e){return e.theme.colors.red});var Aa=function(e){var t=e.name,n=e.username,r=e.bio,o=e.location,l=e.website,i=e.birthday,c=e.avatar,s=e.backgroundPicture,u=e.handleSubmit,d=e.errors,p=e.history,m=function(e){var t=d.find(function(t){return t.param===e});return t?t.msg:t};return a.a.createElement(ka,{onSubmit:u},a.a.createElement(Ia,null,a.a.createElement(Na,{htmlFor:"name"},"Name:"),a.a.createElement(V,Object.assign({type:"text",name:"name"},t,{error:!!m("name")})),m("name")&&a.a.createElement(te,null,m("name"))),a.a.createElement(Ia,null,a.a.createElement(Na,{htmlFor:"username"},"Username:"),a.a.createElement(V,Object.assign({type:"text",name:"username"},n,{error:!!m("username")})),m("username")&&a.a.createElement(te,null,m("username"))),a.a.createElement(Ia,null,a.a.createElement(Na,{htmlFor:"bio"},"Bio:"),a.a.createElement(V,Object.assign({type:"text",name:"bio"},r,{error:!!m("bio")})),m("bio")&&a.a.createElement(te,null,m("bio"))),a.a.createElement(Ia,null,a.a.createElement(Na,{htmlFor:"location"},"Location:"),a.a.createElement(V,Object.assign({type:"text",name:"location"},o,{error:!!m("location")})),m("location")&&a.a.createElement(te,null,m("location"))),a.a.createElement(Ia,null,a.a.createElement(Na,{htmlFor:"website"},"Website:"),a.a.createElement(V,Object.assign({type:"text",name:"website"},l,{error:!!m("website")})),m("website")&&a.a.createElement(te,null,m("website"))),a.a.createElement(Ia,null,a.a.createElement(Na,{htmlFor:"birthday"},"Birthday:"),a.a.createElement(V,{type:"date",name:"birthday",onChange:i.onChange,value:i.value,error:!!m("birthday")}),m("birthday")&&a.a.createElement(te,null,m("birthday"))),a.a.createElement(Ia,null,a.a.createElement(Na,{htmlFor:"avatar"},"Avatar (URL):"),a.a.createElement(V,Object.assign({type:"text",name:"avatar"},c,{error:!!m("avatar")})),m("avatar")&&a.a.createElement(te,null,m("avatar"))),a.a.createElement(Ia,null,a.a.createElement(Na,{htmlFor:"backgroundPicture"},"Background picture (URL):"),a.a.createElement(V,Object.assign({type:"text",name:"backgroundPicture"},s,{error:!!m("backgroundPicture")})),m("backgroundPicture")&&a.a.createElement(te,null,m("backgroundPicture"))),a.a.createElement(Ta,null,a.a.createElement(Sa,{type:"submit"},"Update Changes"),a.a.createElement(Pa,{type:"button",onClick:function(e){e.stopPropagation(),p.goBack()}},"Go Back")))};var La=function(e){var t=e.name,n=e.username,r=e.bio,o=e.location,l=e.website,i=e.birthday,c=e.avatar,s=e.backgroundPicture,u=e.handleSubmit,d=e.errors,p=e.history;return a.a.createElement(x,null,a.a.createElement(Aa,{name:t,username:n,bio:r,location:o,website:l,birthday:i,avatar:c,backgroundPicture:s,handleSubmit:u,errors:d,history:p}))};var Ua=function(e){var t=Object(r.useState)(e),n=Object(j.a)(t,2),a=n[0],o=n[1];return Object(r.useEffect)(function(){o(e)},[e]),{value:a,onChange:function(e){o(e.target.value)}}},Ma=n(28),Ra=n.n(Ma);var Da=Object(O.b)(function(e){return{profile:e.profile,errors:e.errors}},{getUserProfile:Nn,updateProfile:function(e){return function(){var t=Object(S.a)(T.a.mark(function t(n){var r,a,o;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Tn()),r={headers:{"Content-Type":"application/json"}},t.prev=2,a=JSON.stringify(e),t.next=6,A.a.post("/api/profiles",a,r);case 6:o=t.sent,n({type:"GET_PROFILE",payload:o.data}),n(ot()),n(R("Profile successfully updated","success")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),n({type:k,payload:t.t0.response.data.errors}),n(R("Cannot update the profile","danger"));case 16:case"end":return t.stop()}},t,null,[[2,12]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.history,n=e.errors,o=e.profile,l=o.profile,i=(o.loading,e.getUserProfile),c=e.updateProfile,s=Ua(l&&l.user&&l.user.name||""),u=Ua(l&&l.user&&l.user.username||""),d=Ua(l&&l.bio||""),p=Ua(l&&l.location||""),m=Ua(l&&l.website||""),f=Ua(l&&l.birthday||""),h=Ua(l&&l.user.avatar||""),g=Ua(l&&l.backgroundPicture||""),y={name:s,username:u,bio:d,location:p,website:m,birthday:f,avatar:h,backgroundPicture:g};return Object(r.useEffect)(function(){i()},[]),null===l?a.a.createElement(ce,null):a.a.createElement(La,{name:s,username:u,bio:d,location:p,website:m,birthday:f,avatar:h,backgroundPicture:g,handleSubmit:function(e){e.preventDefault();var n={};["name","username","avatar"].forEach(function(e){!l.user||l.user[e]&&(l.user[e]&&y[e].value)===l.user[e]||(n[e]=y[e].value)}),["bio","website","location","birthday","backgroundPicture"].forEach(function(e){y[e].value!==l[e]&&("birthday"===e?f.value&&(n.birthday=Ra()(f.value).format("YYYY-MM-DD")):n[e]=y[e].value)}),mt(n)||c(n,t)},errors:n,history:t})}),Fa=Object(O.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.component,n=e.isAuthenticated,r=Object(lt.a)(e,["component","isAuthenticated"]);return a.a.createElement(u.b,Object.assign({},r,{render:function(e){return!0===n?a.a.createElement(t,e):a.a.createElement(u.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))}),Ga=n(54),Ba=n(55),za=n(58),Wa=n(56),qa=n(59),Ha=function(e){function t(e){var n;return Object(Ga.a)(this,t),(n=Object(za.a)(this,Object(Wa.a)(t).call(this,e))).state={hasError:!1},n}return Object(qa.a)(t,e),Object(Ba.a)(t,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("h2",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.Component),Ya=d.d.div.withConfig({displayName:"style__StyledAlert",componentId:"sc-10kbj26-0"})(["position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:",";color:white;border-radius:3px;padding:10px 15px;box-shadow:2px 3px 5px 0px rgba(0,0,0,0.75);z-index:100;&:empty{display:none;}"],function(e){return"success"===e.type?e.theme.colors.green:e.theme.colors.red}),Va=Object(O.b)(function(e){return{alerts:e.alert}})(function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map(function(e){return a.a.createElement(Ya,{key:e.id,type:e.alertType},e.msg)})});var Ja=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)(function(){t.current=e},[e]),t.current};var Ka=Object(u.g)(function(e){var t=e.location,n=Ja(t),r=!(!t.state||!t.state.modal||n===t);return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.d,{location:r?n:t},e.children),r?a.a.createElement(u.b,{path:"/:username/status/:status_id",component:ya}):null)}),Qa=n(57),Xa=n.n(Qa);(function(){var e=localStorage.getItem("token");if(L(e),e){var t=Xa()(e),n=Date.now()/1e3;t.exp<n&&(at.dispatch(F()),window.location.href="/signin")}})();var $a=function(){return Object(r.useEffect)(function(){at.dispatch(D())},[]),a.a.createElement(O.a,{store:at},a.a.createElement(g,null),a.a.createElement(m,null,a.a.createElement(Ha,null,a.a.createElement(s.a,null,a.a.createElement(v,null,a.a.createElement(_,null,a.a.createElement(Va,null),a.a.createElement(Se,null),a.a.createElement(Qn,null),a.a.createElement(Ka,null,a.a.createElement(Fa,{exact:!0,path:"/edit-profile",component:Da}),a.a.createElement(Fa,{exact:!0,path:"/settings",component:Ca}),a.a.createElement(u.b,{exact:!0,path:"/",component:Pn}),a.a.createElement(u.b,{exact:!0,path:"/signin",component:gt}),a.a.createElement(u.b,{exact:!0,path:"/signup",component:_t}),a.a.createElement(u.b,{exact:!0,path:"/profiles",component:Ea}),a.a.createElement(u.b,{path:"/:username",component:wa}),a.a.createElement(u.b,{component:br}))))))))};n(96);l.a.render(a.a.createElement($a,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");i?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):c(e)})}}()}},[[62,1,2]]]);
//# sourceMappingURL=main.3098d7df.chunk.js.map